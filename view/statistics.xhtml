<div class="hidden" style="display: none" id="current_round_start">
  #{h @last_block_found}
</div>
<div class="stats grid grid-16">
  <table class="inuit">
    <thead>
      <tr>
        <th>Current Round Duration</th>
        <th>Last Round Duration</th>
        <th>Avg Time Per Round</th>
        <th>Avg Shares Per Round</th>
        <th>Total Shares Submitted</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td id="current_round_duration">#{h @current_round_duration}</td>
        <td id="previous_round_duration">#{h @previous_round_duration}</td>
        <td id="average_time_per_round">#{h @average_time_per_round}</td>
        <td id="average_shares_per_round">#{h @average_shares_per_round}</td>
        <td id="total_shares">#{h @total_shares}</td>
      </tr>
    </tbody>
  </table>
</div>
<table class="inuit">
  <thead>
    <tr>
      <th>Category</th>
      <th>Amount</th>
      <th>Confirmations</th>
      <th>TxID</th>
      <th>Time</th>
    </tr>
  </thead>
  <tbody>
    <?r @stats.reverse.each do |statistic| ?>
      <?r next unless statistic['txid'] ?>
      <tr>
        <td>#{h statistic['category']}</td>
        <td>#{h statistic['amount']}</td>
        <td>#{h statistic['confirmations']}</td>
        <td><a href="http://explorer.dot-bit.org?q=#{h statistic['txid']}">#{h statistic['txid'][0..10]}...</a></td>
        <td>#{h Time.at(statistic['time']).utc}</td>
      </tr>
    <?r end ?>
  </tbody>
</table>
